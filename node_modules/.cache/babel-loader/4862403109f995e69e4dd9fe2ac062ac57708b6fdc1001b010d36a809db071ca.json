{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./News.css\";import Sidebar from\"../Sidebar\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const News=()=>{const[mynews,setMynews]=useState([]);const[myfilteredNews,setMyFilteredNews]=useState([]);const isToday=date=>{const today=new Date();const givenDate=new Date(date);console.log(today,givenDate);console.log(mynews);return givenDate.getDate()===today.getDate()&&givenDate.getMonth()===today.getMonth()&&givenDate.getFullYear()===today.getFullYear()// mynews.publishedAt == today ? true :false\n;};const isYesterday=date=>{const today=new Date();const yesterday=new Date(today);yesterday.setDate(today.getDate()-1);const givenDate=new Date(date);return givenDate.getDate()===yesterday.getDate()&&givenDate.getMonth()===yesterday.getMonth()&&givenDate.getFullYear()===yesterday.getFullYear()// mynews.publishedAt == yesterday ? true :false\n;};const formatDateTime=date=>{const options={year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'};const givenDate=new Date(date);return givenDate.toLocaleString(undefined,options);};// const formatDateTime = (date) => {\n//   const options = { \n//     year: 'numeric', \n//     month: 'long', \n//     day: 'numeric', \n//     hour: '2-digit', \n//     minute: '2-digit' \n//   };\n//   const givenDate = new Date(date);\n//    // Subtract one day\n//    givenDate.setDate(givenDate.getDate() - 1);\n//    return givenDate.toLocaleString(undefined, options);\n//  }\nconst fetchData=async()=>{try{let response=await fetch(\"https://newsapi.org/v2/top-headlines?sources=bbc-news&apiKey=4dfcf98ba3254f54a277a40e24a448ca\");let data=await response.json();setMynews(data.articles);setMyFilteredNews(data.articles);}catch(error){console.error(\"Error fetching data:\",error);}};useEffect(()=>{fetchData();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"MainDiv\",children:[/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:\"52rem\",gap:\"16px\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"col-md-3 col-lg-2 d-md-block sidebar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"position-sticky\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"nav flex-column mb-2\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link active\",\"aria-current\":\"page\",href:\"#\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link active\",\"aria-current\":\"page\",href:\"#\",children:\"About\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link active\",\"aria-current\":\"page\",href:\"#\",onClick:()=>setMyFilteredNews(mynews.filter(news=>isToday(news.publishedAt))),children:\"Today\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:\"#\",onClick:()=>{setMyFilteredNews(mynews.filter(news=>isYesterday(news.publishedAt)));},children:\"Yesterday\"})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success\",type:\"submit\",children:\"Search\"})]})})})})})}),myfilteredNews.map((ele,index)=>{//   console.log(ele);\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{width:\"300px\",height:\"400px\",marginLeft:\"4rem\",marginBottom:\"4rem\"},children:[/*#__PURE__*/_jsx(\"img\",{src:ele.urlToImage==null?\"https://www.washingtonpost.com/wp-apps/imrs.php?src=https://arc-anglerfish-washpost-prod-washpost.s3.amazonaws.com/public/W454PRU3DBC4DA4HJARYSFOJIQ.png&w=1440:\":ele.urlToImage,className:\"card-img-top\",alt:\"...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:ele.author}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:ele.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:formatDateTime(ele.publishedAt)}),/*#__PURE__*/_jsx(\"a\",{href:ele.url,target:\"_blank\",className:\"btn btn-primary\",children:\"Read More\"})]})]},index);}),\" \"]}),/*#__PURE__*/_jsx(Sidebar,{})]});};export default News;","map":{"version":3,"names":["React","useEffect","useState","Sidebar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","News","mynews","setMynews","myfilteredNews","setMyFilteredNews","isToday","date","today","Date","givenDate","console","log","getDate","getMonth","getFullYear","isYesterday","yesterday","setDate","formatDateTime","options","year","month","day","hour","minute","toLocaleString","undefined","fetchData","response","fetch","data","json","articles","error","children","className","style","marginLeft","gap","href","onClick","filter","news","publishedAt","type","map","ele","index","width","height","marginBottom","src","urlToImage","alt","author","title","url","target"],"sources":["/home/uzair/Newsapp/src/components/news/News.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./News.css\";\nimport Sidebar from \"../Sidebar\";\n\nconst News = () => {\n  const [mynews, setMynews] = useState([]);\n  const [myfilteredNews, setMyFilteredNews] = useState([]);\n  const isToday = (date) => {\n    const today = new Date();\n    const givenDate = new Date(date);\n    console.log(today, givenDate);\n    console.log(mynews);\n    return (\n      givenDate.getDate() === today.getDate() &&\n      givenDate.getMonth() === today.getMonth() &&\n      givenDate.getFullYear() === today.getFullYear()\n      // mynews.publishedAt == today ? true :false\n    );\n  };  \n\n  const isYesterday = (date) => {\n    const today = new Date();\n    const yesterday = new Date(today);\n    yesterday.setDate(today.getDate() - 1);\n    const givenDate = new Date(date);\n    return (\n      givenDate.getDate() === yesterday.getDate() &&\n      givenDate.getMonth() === yesterday.getMonth() &&\n      givenDate.getFullYear() === yesterday.getFullYear()\n      // mynews.publishedAt == yesterday ? true :false\n    );  \n  };\n\n  const formatDateTime = (date) => {\n    const options = { \n      year: 'numeric', \n      month: 'long', \n      day: 'numeric', \n      hour: '2-digit', \n      minute: '2-digit' \n    };\n    const givenDate = new Date(date);\n    return givenDate.toLocaleString(undefined, options);\n  };\n\n  // const formatDateTime = (date) => {\n  //   const options = { \n  //     year: 'numeric', \n  //     month: 'long', \n  //     day: 'numeric', \n  //     hour: '2-digit', \n  //     minute: '2-digit' \n  //   };\n  //   const givenDate = new Date(date);\n  //    // Subtract one day\n  //    givenDate.setDate(givenDate.getDate() - 1);\n  //    return givenDate.toLocaleString(undefined, options);\n  //  }\n \n  \n\n   \n  const fetchData = async () => {\n    try {\n      let response = await fetch(\n        \"https://newsapi.org/v2/top-headlines?sources=bbc-news&apiKey=4dfcf98ba3254f54a277a40e24a448ca\"\n      );\n      let data = await response.json();\n      setMynews(data.articles);\n      setMyFilteredNews(data.articles);\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  return (\n    <>\n      <div className=\"MainDiv\">\n        <div style={{ marginLeft: \"52rem\", gap: \"16px\" }}>\n          <div className=\"container-fluid\">\n            <div className=\"row\">\n              <nav className=\"col-md-3 col-lg-2 d-md-block sidebar\">\n                <div className=\"position-sticky\">\n                  <div className=\"p-4\">\n                    <ul className=\"nav flex-column mb-2\">\n                      <li className=\"nav-item\">\n                        <a\n                          className=\"nav-link active\"\n                          aria-current=\"page\"\n                          href=\"#\"\n                        >\n                          Home\n                        </a>\n                      </li>\n\n                      <li className=\"nav-item\">\n                        <a\n                          className=\"nav-link active\"\n                          aria-current=\"page\"\n                          href=\"#\"\n                        >\n                          About\n                        </a>\n                      </li>\n                      <li className=\"nav-item\">\n                        <a\n                          className=\"nav-link active\"\n                          aria-current=\"page\"\n                          href=\"#\"\n                          onClick={() =>\n                            setMyFilteredNews(\n                              mynews.filter((news) => isToday(news.publishedAt))\n                            )\n                          }\n                        >\n                          Today\n                        </a>\n                      </li>\n                      <li className=\"nav-item\">\n                        <a\n                          className=\"nav-link\"\n                          href=\"#\"\n                          onClick={() => {\n                            setMyFilteredNews(\n                              mynews.filter((news) =>\n                                isYesterday(news.publishedAt)\n                              )\n                            );\n                          }}\n                        >\n                          Yesterday\n                        </a>\n                      </li>\n                    </ul>\n\n                    <button className=\"btn btn-outline-success\" type=\"submit\">\n                      Search\n                    </button>\n                  </div>\n                </div>\n              </nav>\n            </div>\n          </div>\n        </div>\n        {myfilteredNews.map((ele, index) => {\n          //   console.log(ele);\n          return (\n            <div\n              key={index}\n              className=\"card\"\n              style={{\n                width: \"300px\",\n                height: \"400px\",\n                marginLeft: \"4rem\",\n                marginBottom: \"4rem\",\n              }}\n            >\n              <img\n                src={\n                  ele.urlToImage == null\n                    ? \"https://www.washingtonpost.com/wp-apps/imrs.php?src=https://arc-anglerfish-washpost-prod-washpost.s3.amazonaws.com/public/W454PRU3DBC4DA4HJARYSFOJIQ.png&w=1440:\"\n                    : ele.urlToImage\n                }\n                className=\"card-img-top\"\n                alt=\"...\"\n              />\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">{ele.author}</h5>\n                <p className=\"card-text\">{ele.title}</p>\n                <p className=\"card-text\">{formatDateTime(ele.publishedAt)}</p>\n                <a href={ele.url} target=\"_blank\" className=\"btn btn-primary\">\n                  Read More\n                </a>\n              </div>\n            </div>\n          );\n        })}{\" \"}\n      </div>\n\n      <Sidebar />\n    </>\n  );\n};\n\nexport default News;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}